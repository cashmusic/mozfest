(function(){var d=window.cashmusic;d.lightbox={injectIframe:function(c){var a=d.lightbox,b=d.measure.viewport();c=a.parseVideoURL(c);if(b.x>b.y&&b.y*(16/9)<b.x)var a=b.y/10,e=Math.ceil((b.y-2*a)*(16/9));else e=Math.ceil(10*(b.x/12)),a=b.y/2-0.5625*e/2;d.overlay.resize(a+"px","50%",e+"px",0-e/2+"px");b=document.createElement("div");b.style.position="relative";b.style.paddingBottom="56.25%";b.style.height=0;b.style.backgroundColor="#000";b.innerHTML='<iframe src="'+c+'" style="position:absolute;top:0;left:0;width:100%;height:100%;" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';
d.overlay.content.appendChild(b)},parseVideoURL:function(c){var a=!1;-1!==c.toLowerCase().indexOf("youtube.com/watch?v=")?(a=c.replace("watch?v=","embed/"),a=a.replace("http:","https:"),-1<a.indexOf("&")&&(a=a.substr(0,a.indexOf("&"))),a+="?autoplay=1&autohide=1&rel=0"):-1!==c.toLowerCase().indexOf("vimeo.com/")&&(a=c.replace("www.",""),a=a.replace("vimeo.com/","player.vimeo.com/video/"),a+="?title=1&byline=1&portrait=1&autoplay=1");return a}};var f=document.querySelectorAll('a[href*="youtube.com"],a[href*="vimeo.com"]');
0<f.length&&d.overlay.create(function(){for(var c=0;c<f.length;++c)d.events.add(f[c],"click",function(a){if(400<d.measure.viewport().x&&!a.metaKey){var b=a.currentTarget.href;d.fader.init(d.overlay.bg,100,function(){d.lightbox.injectIframe(b)});a.preventDefault();return!1}})})})();